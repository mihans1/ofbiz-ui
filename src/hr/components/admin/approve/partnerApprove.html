<template>
  <require from="../../general/icons/check/checkIcon"></require>
  <require from="../../general/icons/cross/crossIcon"></require>
  <require from="../../general/page-title/pageTitle"></require>
  <require from="../../general/filter/filter"></require>
  <require from="../../general/icons/manage/manageIcon"></require>
  <require from="../../general/icons/icon"></require>

  <div class="row flex-column mx-3 text-center mt-5">
    <div class="col-md-9 mx-auto">
      <page-title
        main-text.one-way="'Approve or disapprove candidates for affiliate partnership'">
      </page-title>
    </div>
    <div class="col-md-9 mx-auto my-3">
      <filter
        values-to-filter.one-way="pendingPartners"
        options.one-way="affApproveFilterOptions"
        callback.call="setFilteredValues($event)"
        id.one-way="'Admin-Generated-Code'"
      >
      </filter>
    </div>
    <div class="col-md-9 mx-auto table-responsive-md text-center">
      <table class="table table-striped table-dark table-bordered table-hover">
        <thead>
        <tr>
          <th
            scope="col"
            class="align-middle"
          >
            First Name
          </th>
          <th
            scope="col"
            class="align-middle"
          >
            Last Name
          </th>
          <th
            scope="col"
            class="align-middle"
          >
            Email
          </th>
          <th
            class="align-middle"
            scope="col"
          >
            Date
          </th>
        </tr>
        </thead>
        <tbody>
        <tr repeat.for="index of filteredValues.length">
          <td class="align-middle">${filteredValues[index]['firstName']}</td>
          <td class="align-middle">${filteredValues[index]['lastName']}</td>
          <td class="align-middle">${filteredValues[index]['email']}</td>
          <td class="align-middle">${filteredValues[index]['dateTimeCreated']}</td>
          <td
            click.trigger="disapprove(index, filteredValues[index]['partyId'])"
            class="aff-table__action-icon aff-table__action-icon--red">
            <icon>
              <cross-icon></cross-icon>
            </icon>
          </td>
          <td
            click.trigger="approve(index, filteredValues[index]['partyId'])"
            class="aff-table__action-icon">
            <icon>
              <check-icon></check-icon>
            </icon>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>
